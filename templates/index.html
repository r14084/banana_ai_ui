<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banana AI - Prompt Expander</title>
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üçå Banana AI Prompt Expander</h1>
            <p>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ AI ‡∏ä‡πà‡∏ß‡∏¢‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏° prompt ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Banana AI</p>
        </header>

        <main>
            <!-- Upload Section -->
            <section class="upload-section">
                <h2>üì∏ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û Reference</h2>
                <div id="uploadContainer">
                    <!-- Dynamic upload items will be added here -->
                </div>
                <button type="button" id="addImageBtn" class="btn-add-image">
                    <span class="plus-icon">+</span>
                    <span>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</span>
                </button>
            </section>

            <!-- Prompt Section -->
            <section class="prompt-section">
                <h2>‚úèÔ∏è ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Prompt</h2>
                <form id="promptForm">
                    <div class="form-group">
                        <textarea 
                            id="userPrompt" 
                            name="prompt" 
                            placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå prompt ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÄ‡∏ä‡πà‡∏ô '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á‡∏ú‡∏°‡∏¢‡∏≤‡∏ß‡πÉ‡∏ô‡∏£‡∏π‡∏õ' ‡∏´‡∏£‡∏∑‡∏≠ '‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏â‡∏≤‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô'"
                            rows="4"
                            maxlength="2000"
                            required
                        ></textarea>
                        <div class="char-count">
                            <span id="charCount">0</span> / 2000
                        </div>
                    </div>

                    <!-- Aspect Ratio Selection -->
                    <div class="form-group">
                        <label class="section-label">üìê ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏†‡∏≤‡∏û</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="aspect_ratio" value="9:16" checked>
                                <span class="radio-custom"></span>
                                <span>9:16 (Portrait)</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="aspect_ratio" value="16:9">
                                <span class="radio-custom"></span>
                                <span>16:9 (Landscape)</span>
                            </label>
                        </div>
                    </div>

                    <!-- Advanced Options (Collapsible) -->
                    <div class="advanced-options">
                        <button type="button" id="advancedToggle" class="btn-toggle">
                            ‚öôÔ∏è ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á
                        </button>
                        <div id="advancedPanel" class="advanced-panel" style="display: none;">
                            <div class="form-group">
                                <label for="negativePrompt">Negative Prompt (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£):</label>
                                <input type="text" id="negativePrompt" placeholder="‡πÄ‡∏ä‡πà‡∏ô blurry, bad quality, distorted" maxlength="500">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="guidanceScale">Guidance Scale (1-20):</label>
                                    <input type="range" id="guidanceScale" min="1" max="20" value="7.5" step="0.5">
                                    <span id="guidanceValue">7.5</span>
                                </div>
                                <div class="form-group">
                                    <label for="inferenceSteps">Steps (1-100):</label>
                                    <input type="range" id="inferenceSteps" min="1" max="100" value="20" step="1">
                                    <span id="stepsValue">20</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="button-group">
                        <button type="submit" id="assistBtn" class="btn-secondary btn-half">
                            <span class="btn-text">ü§ñ AI Assist</span>
                            <span class="btn-loading" style="display: none;">
                                <span class="spinner"></span> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...
                            </span>
                        </button>
                        <button type="button" id="generateBtn" class="btn-primary btn-half">
                            <span class="btn-text">üé® Generate Image</span>
                            <span class="btn-loading" style="display: none;">
                                <span class="spinner"></span> ‡∏Å‡∏≥‡∏•‡∏±‡∏á Generate...
                            </span>
                        </button>
                    </div>
                </form>
            </section>

            <!-- Result Section -->
            <section id="resultSection" class="result-section" style="display: none;">
                <h2>‚ú® Expanded Prompt</h2>
                <div class="result-container">
                    <div id="expandedPrompt" class="expanded-prompt"></div>
                    <div class="result-actions">
                        <button id="copyBtn" class="btn-secondary">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
                        <button id="clearBtn" class="btn-secondary">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á</button>
                    </div>
                    <div id="copyNotification" class="notification" style="display: none;">
                        ‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß!
                    </div>
                </div>
            </section>

            <!-- Generated Image Section -->
            <section id="generatedSection" class="generated-section" style="display: none;">
                <h2>üé® Generated Image</h2>
                <div class="generated-container">
                    <div class="generated-image">
                        <img id="generatedImg" src="" alt="Generated Image">
                    </div>
                    <div class="generated-info">
                        <div class="info-grid">
                            <div class="info-item">
                                <label>Filename:</label>
                                <span id="generatedFilename">-</span>
                            </div>
                            <div class="info-item">
                                <label>Size:</label>
                                <span id="generatedSize">-</span>
                            </div>
                            <div class="info-item">
                                <label>Seed:</label>
                                <span id="generatedSeed">-</span>
                            </div>
                        </div>
                    </div>
                    <div class="generated-actions">
                        <a id="downloadBtn" href="#" download class="btn-secondary">üíæ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</a>
                        <button id="clearGeneratedBtn" class="btn-secondary">üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á</button>
                    </div>
                </div>
            </section>

            <!-- Error Display -->
            <div id="errorDisplay" class="error-message" style="display: none;"></div>
        </main>

        <footer>
            <p>¬© 2024 Banana AI Prompt Expander | Version 1.0.0</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>